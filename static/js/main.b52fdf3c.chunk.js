(this["webpackJsonpaccount-book"]=this["webpackJsonpaccount-book"]||[]).push([[0],[,function(e,t,a){e.exports={TodayItem:"TodayItem_TodayItem__YQ8lF",highlight:"TodayItem_highlight__2979s",box:"TodayItem_box__1XL8H",categoryLbl:"TodayItem_categoryLbl__2xGPP",label:"TodayItem_label__g-4w7",icon:"TodayItem_icon__18jZN",input:"TodayItem_input__1YH90",invalid:"TodayItem_invalid__1Loxh"}},function(e,t,a){e.exports={ItemCreate:"ItemCreate_ItemCreate__3TrqU",button:"ItemCreate_button__2nnV_",addBtn:"ItemCreate_addBtn__HilKo",confirmBtn:"ItemCreate_confirmBtn__284Pq",add:"ItemCreate_add__1CBWf",close:"ItemCreate_close__1SlLV",form:"ItemCreate_form__1x-vU",input:"ItemCreate_input__mhpat",invalid:"ItemCreate_invalid__3HqW5"}},,,,,function(e,t,a){e.exports={Head:"Head_Head__3T4Wy",title:"Head_title__1umdm"}},,,,function(e,t,a){e.exports={Expenditure:"Expenditure_Expenditure__PgMeK",template:"Expenditure_template__3obmc"}},function(e,t,a){e.exports={TodayList:"TodayList_TodayList__2uoNu"}},,,,,,,function(e,t,a){e.exports={Categories:"Categories_Categories__2dLcC"}},function(e,t,a){e.exports={Category:"Category_Category__3m9GP"}},function(e,t,a){e.exports=a(33)},,,,,function(e,t,a){},,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),o=(a(26),a(11)),l=a.n(o),u=a(7),s=a.n(u);function d(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=String(e).split(""),a="",n=3,r=t.length-1,c=0;r>=c;r--)0===n?(a=t[r]+","+a,n=2):(a=t[r]+a,n--);return a}function m(e){var t=e.total,a=new Date,n=String(a.getFullYear())+"\ub144 "+String(a.getMonth()+1)+"\uc6d4 "+String(a.getDate())+"\uc77c";return r.a.createElement("div",{className:s.a.Head},r.a.createElement("h1",{className:s.a.title},"\uc624\ub298\uc758 \uc9c0\ucd9c"),r.a.createElement("h3",{className:s.a.title},n),r.a.createElement("h3",{className:"".concat(s.a.title," ").concat(s.a.total)},"\ucd1d \uc9c0\ucd9c:",r.a.createElement("b",null,"-",d(t),"\uc6d0")))}var p=a(12),g=a.n(p),E=a(4),_=a(1),f=a.n(_),y=a(8),b=a(5),h=a(16),v=a(17),C=function(e,t){return{code:200,message:t,error:!1,data:e}},x=new(function(){function e(t,a,n){Object(h.a)(this,e),this._categories=t,this._nextId=a,this._expenditures=n}return Object(v.a)(e,[{key:"expenditureList",value:function(e){return this._expenditures.filter((function(t){return e.id===t.category.id}))}},{key:"insertExpenditure",value:function(e){this._expenditures=this._expenditures.concat(Object(b.a)({},e,{id:this._nextId,onUpdate:!1})),this._nextId++}},{key:"updateExpenditure",value:function(e){this._expenditures=this._expenditures.map((function(t){return t.id===e.id?e:t}))}},{key:"deleteExpenditure",value:function(e){this._expenditures=this._expenditures.filter((function(t){return t.id!==e}))}},{key:"categories",get:function(){return this._categories}},{key:"expenditures",get:function(){return this._expenditures}}]),e}())([{id:0,label:"\uc804\uccb4"},{id:1,label:"\uc2dd\uc0ac",color:"#ffec8c"},{id:2,label:"\uc2dd\ub8cc\ud488",color:"#d5ffbe"},{id:3,label:"\uad50\ud1b5",color:"#ffd2be"},{id:4,label:"\uc0dd\ud65c",color:"#f1beff"},{id:5,label:"\uc758\ub8cc",color:"#bec9ff"}],6,[{id:1,category:{id:1,label:"\uc2dd\uc0ac"},title:"\uc6a9\uac1c\ubc18\uc810",cost:7e3,onUpdate:!1},{id:2,category:{id:2,label:"\uc2dd\ub8cc\ud488"},title:"\uc591\ubc30\ucd94",cost:5e3,onUpdate:!1},{id:3,category:{id:3,label:"\uad50\ud1b5"},title:"\ud0dd\uc2dc\ube44",cost:2e4,onUpdate:!1},{id:4,category:{id:4,label:"\uc0dd\ud65c"},title:"\uad00\ub9ac\ube44",cost:1e5,onUpdate:!1},{id:5,category:{id:5,label:"\uc758\ub8cc"},title:"\ubcd1\uc6d0 \uc9c4\ub8cc",cost:7e3,onUpdate:!1}]);var T=a(6),N=Object(T.b)({category:function(e,t){switch(t.type){case"SET_CAT":return(null===t||void 0===t?void 0:t.category)||{id:0};default:return e||{id:0}}},expenditure:function(e,t){var a,n,r={code:415,data:0,error:!1};switch(t.type){case"CREATE":n=t.expenditure,x.insertExpenditure(n),r=C(1,"Insert Request Success!");break;case"UPDATE":r=function(e){return x.updateExpenditure(e),C(1,"Update Request Success!")}(t.expenditure);break;case"DELETE":a=t.id,x.deleteExpenditure(a),r=C(1,"Delete Request Success!")}return 200!==r.code&&("CREATE"!==t.type&&"UPDATE"!==t.type&&"DELETE"!==t.type||console.log(Object(b.a)({},r,{error:!0,message:"Somethings wrong while requesting api."}))),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:0};return 0===e.id?C(x.expenditures):C(x.expenditureList(e))}(t.category).data}});function I(e,t){switch(t.type){case"item/CHANGE_CAT":return Object(b.a)({},e,{category:t.category});case"item/CHANGE_TITLE":return Object(b.a)({},e,{title:t.title});case"item/CHANGE_COST":return Object(b.a)({},e,{cost:t.cost});default:throw new Error("unhandled reducer at todayitem")}}var O=a(19),A=a.n(O);function j(e){var t=e.categories,a=e.changeCat,n=e.inputStyle,c=e.orgCatId,i=void 0===c?0:c;return r.a.createElement("select",{name:"categories",onChange:function(e){a({id:Number(e.target.value),label:e.target.options[e.target.selectedIndex].text})},className:A.a.Categories,style:n,value:i},t.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.label)})))}function L(e){return!!(null===e||void 0===e?void 0:e.title)}var k=r.a.memo((function(e){var t=e.changeExpenditure,a=e.removeExpenditure,c=e.id,i=e.category,o=e.title,l=e.cost,u=e.onUpdate,s=e.color,m=e.categories,p=I,g=Object(n.useReducer)(p,{id:c,category:i,title:o,cost:l,onUpdate:u}),_=Object(E.a)(g,2),b=_[0],h=_[1],v=Object(n.useState)(!1),C=Object(E.a)(v,2),x=C[0],T=C[1];var N=function(e){var t=e.target,a=t.name,n=t.value;"title"===a?h({type:"item/CHANGE_TITLE",title:n}):"cost"===a&&h({type:"item/CHANGE_COST",cost:Number(n)})},O=function(){t({id:c,category:i,title:o,cost:l,onUpdate:!u}),h({type:"item/CHANGE_CAT",category:i}),h({type:"item/CHANGE_TITLE",title:o}),h({type:"item/CHANGE_COST",cost:l}),T(!1)};return u?r.a.createElement("div",{className:"".concat(f.a.TodayItem," ").concat(f.a.highlight)},r.a.createElement("div",{className:f.a.box},r.a.createElement(j,{categories:m,changeCat:function(e){h({type:"item/CHANGE_CAT",category:e})},inputStyle:{marginRight:"10px"},orgCatId:b.category.id}),r.a.createElement("input",{placeholder:"\uc9c0\ucd9c \ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",className:"".concat(f.a.input," ").concat(x&&f.a.invalid),name:"title",value:b.title,style:{width:"125px",marginRight:0},onChange:N})),r.a.createElement("div",{className:f.a.box},r.a.createElement("input",{placeholder:"\uc9c0\ucd9c \uae08\uc561\uc744 \uc785\ub825\ud558\uc138\uc694.",type:"number",className:f.a.input,name:"cost",value:b.cost,onChange:N}),r.a.createElement(y.e,{className:f.a.icon,onClick:function(){L(b)?(t(b),T(!1)):T(!0)}}),r.a.createElement(y.b,{className:f.a.icon,onClick:O}))):r.a.createElement("div",{className:f.a.TodayItem},r.a.createElement("div",{className:f.a.box},r.a.createElement("div",{className:f.a.categoryLbl,style:{background:s}},i.label),r.a.createElement("div",{className:f.a.label},o)),r.a.createElement("div",{className:f.a.box},r.a.createElement("div",{className:f.a.label},r.a.createElement("b",null,"-",d(l),"\uc6d0")),r.a.createElement(y.c,{className:f.a.icon,onClick:O}),r.a.createElement(y.d,{className:f.a.icon,onClick:function(){window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&a(c)}})))}));function H(e){var t=e.expenditureList,a=e.changeExpenditure,n=e.removeExpenditure,c=e.categories;return 0===t.length?r.a.createElement("div",{className:g.a.TodayList,style:{fontWeight:700,color:"#43484e",marginTop:"10px"}},"\uc9c0\ucd9c \ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:g.a.TodayList},t.map((function(e){var t;return r.a.createElement(k,Object.assign({key:e.id,changeExpenditure:a,removeExpenditure:n},e,{color:(null===(t=c.find((function(t){return t.id===e.category.id})))||void 0===t?void 0:t.color)||"white",categories:c}))}))))}var w=a(2),S=a.n(w);function G(e){var t=e.categories,a=e.addExpenditure,c=Object(n.useState)(!1),i=Object(E.a)(c,2),o=i[0],l=i[1],u=Object(n.useState)(!1),s=Object(E.a)(u,2),d=s[0],m=s[1],p=I,g=Object(n.useReducer)(p,{category:{id:1,label:"\uc2dd\uc0ac"},title:"",cost:0}),_=Object(E.a)(g,2),f=_[0],b=_[1];function h(){b({type:"item/CHANGE_CAT",category:{id:1,label:"\uc2dd\uc0ac"}}),b({type:"item/CHANGE_TITLE",title:""}),b({type:"item/CHANGE_COST",cost:0}),m(!1),l(!1)}var v=Object(n.useCallback)((function(){o&&h(),l(!o)}),[o]),C=function(e){var t=e.target,a=t.name,n=t.value;"title"===a?b({type:"item/CHANGE_TITLE",title:n}):"cost"===a&&b({type:"item/CHANGE_COST",cost:Number(n)})};return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"".concat(S.a.button," ").concat(S.a.confirmBtn," ").concat(S.a.add),onClick:function(){L(f)?(a(f),h()):m(!0)}},r.a.createElement(y.a,null)),r.a.createElement("div",{className:S.a.ItemCreate},r.a.createElement("form",{className:S.a.form},r.a.createElement(j,{categories:t,changeCat:function(e){b({type:"item/CHANGE_CAT",category:e})},inputStyle:{marginRight:"10px"},orgCatId:f.category.id}),r.a.createElement("input",{autoFocus:!0,placeholder:"\uc9c0\ucd9c \ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",onChange:C,name:"title",value:f.title,className:"".concat(S.a.input," ").concat(d&&S.a.invalid),style:{width:"150px"}}),r.a.createElement("input",{type:"number",placeholder:"\uc9c0\ucd9c \uae08\uc561\uc744 \uc785\ub825\ud558\uc138\uc694.",onChange:C,name:"cost",value:f.cost,className:S.a.input})))),r.a.createElement("button",{className:"".concat(S.a.button," ").concat(S.a.addBtn," ").concat(o?S.a.close:S.a.add),onClick:v},r.a.createElement(y.a,null)))}var U=a(20),R=a.n(U),B=r.a.memo((function(e){var t=e.category,a=e.categories,n=e.changeCat;return r.a.createElement("div",{className:R.a.Category},r.a.createElement("h3",null,"\uce74\ud14c\uace0\ub9ac\ubcc4\ub85c \ubcf4\uae30:",r.a.createElement(j,{categories:a,changeCat:n,inputStyle:{marginLeft:"10px"},orgCatId:t.id})))})),D=a(3);function P(e){return 0===e.length?0:e.map((function(e){return e.cost})).reduce((function(e,t){return e+t}))}var q=C(x.categories),F=q.error?[]:q.data,W=F.filter((function(e){return 0!==e.id}));function Y(){var e=Object(D.c)((function(e){return e.category})),t=Object(D.c)((function(e){return e.expenditure})),a=P(t),c=Object(D.b)(),i=Object(D.b)();return Object(n.useEffect)((function(){a=P(t)}),[c,i]),r.a.createElement("div",{className:l.a.Expenditure},r.a.createElement("div",{className:l.a.template},r.a.createElement(m,{total:a}),r.a.createElement(B,{category:e,categories:F,changeCat:function(e){c(function(e){return{type:"SET_CAT",category:e}}(e))}}),r.a.createElement(H,{expenditureList:t,changeExpenditure:function(t){i(function(e,t){return{type:"UPDATE",expenditure:e,category:t}}(t,e))},removeExpenditure:function(t){i(function(e,t){return{type:"DELETE",id:e,category:t}}(t,e))},categories:W}),r.a.createElement(G,{categories:W,addExpenditure:function(t){i(function(e,t){return{type:"CREATE",expenditure:e,category:t}}(t,e))}})))}var J=function(){return r.a.createElement(Y,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=Object(T.c)(N);i.a.render(r.a.createElement(D.a,{store:K},r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[21,1,2]]]);
//# sourceMappingURL=main.b52fdf3c.chunk.js.map